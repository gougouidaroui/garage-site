{% extends 'base.html' %}
{% block content %}
<div class="max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-6 fade-in">
    <h2 class="text-2xl font-semibold text-[#008143] mb-6">Backup Cycles</h2>
    <form method="post" class="space-y-6">
        {% csrf_token %}
        <div>
            <label for="start_date" class="block text-sm font-medium text-[#008143]">Start Date</label>
            <input type="date" id="start_date" name="start_date" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <div>
            <label for="end_date" class="block text-sm font-medium text-[#008143]">End Date</label>
            <input type="date" id="end_date" name="end_date" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <button type="submit" name="backup" class="bg-[#95E35D] text-white px-4 py-2 rounded hover:bg-[#4A9A14] transition mt-4">Create Backup</button>
    </form>

    {% if page_obj %}
    <h3 class="text-xl font-medium text-[#008143] mt-6">Cycle List</h3>
    <ul class="mt-4 space-y-2">
        {% for cycle in page_obj %}
        <li>
            <a href="#" class="block p-3 bg-gray-100 rounded-lg hover:bg-[#95E35D] hover:text-white transition duration-300 ease-in-out transform hover:-translate-y-1 hover:shadow-md">
                {{ cycle.cycle_id }} ({{ cycle.date }} - {{ cycle.control_type }})
            </a>
        </li>
        {% endfor %}
    </ul>

    <!-- Pagination -->
    {% if page_obj.has_other_pages %}
    <div class="mt-4 flex justify-between">
        {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}" class="bg-[#95E35D] text-white px-4 py-2 rounded hover:bg-[#4A9A14] transition">Previous</a>
        {% else %}
        <span class="text-gray-400 px-4 py-2">Previous</span>
        {% endif %}
        <span class="px-4 py-2">Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>
        {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}" class="bg-[#95E35D] text-white px-4 py-2 rounded hover:bg-[#4A9A14] transition">Next</a>
        {% else %}
        <span class="text-gray-400 px-4 py-2">Next</span>
        {% endif %}
    </div>
    {% endif %}
    {% endif %}
</div>
{% endblock %}
